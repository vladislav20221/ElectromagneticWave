# ElectromagneticWave
Программа с графическим интерфейсом для моделирования распространения электромагнитной волны в прямоугольном волноводе.

## Основные компоненты GUI
<img width="974" height="538" alt="image" src="https://github.com/user-attachments/assets/da369bb0-cac0-4ffb-82e5-f517dfd7a2a4" />

* 1 – Поле для ввода параметров волновода.
* 2 – Данные с которыми была построена модель.
* 3 – Рассчитанные критическая частота и длина волны (Основной и с указанными модами), а так же длина волны в волноводе с указанными модами.
* 4 – Схематическое изображение волновода.

---

Сначала нужно заполнить все поля (область 1). После чего нужно нажать на кнопку «Рассчитать». Если волна с указанными модами при заданной частоте распространятся не может, то появится окно с оповещением:

<img width="631" height="275" alt="image" src="https://github.com/user-attachments/assets/acc1ebe2-194f-4e2c-b45e-95513cfb4597" />

При этом в поле «Частота» будет автоматически установлено значение наименьшей допустимой частоты с точностью до 10^(-3).

<img width="701" height="276" alt="image" src="https://github.com/user-attachments/assets/98ba16af-cfaf-4ee1-9096-e4ea591d8a50" />

Данные будут перерасчётная автоматически и поэтому нажимать кнопку «Рассчитать не нужно». Можно увеличить частоту, если это необходимо и уже потом пересчитать параметры волны.
Посмотреть подробней на рассчитанные данные можно при нажатии на кнопку:

<img width="974" height="253" alt="image" src="https://github.com/user-attachments/assets/c989e8e4-4414-4ad5-91de-d91c955759c7" />

Появится следующее окно:

<img width="680" height="690" alt="image" src="https://github.com/user-attachments/assets/378c7311-14b0-4108-96c3-537902dd6965" />

Показываются рассчитанные параметре именно для заданной волны с заданными модами и частотой. Параметры волны основного типа H10 указаны в области 3.
При указании волнового сопротивления для каждого типа волны используется старое обозначения типов волн TE и TM, потому что данное обозначение не добавляет путанице в коде программы. 
Значения указанные ниже не несут полезной нагрузки. Это значения коэффициентов, которые были рассчитаны с целью уменьшения операций умножения на каждой итерации циклов при вычислении:

<img width="689" height="498" alt="image" src="https://github.com/user-attachments/assets/1eeedcc8-a485-45ed-87ce-c70308b2d869" />

Если всё рассчитано верно, то можно приступить к построению модели волновода.  Для этого нужно скрыть панель ввода информации нажатием по следующей кнопке:

<img width="635" height="350" alt="image" src="https://github.com/user-attachments/assets/f63cbe36-8931-49c5-91eb-6b119fc807cc" />

Появится следующая область:

<img width="571" height="316" alt="image" src="https://github.com/user-attachments/assets/44dd5c07-ae39-4fe0-ae15-7a1608ac3547" />

* 1 – электрическое поле.
* 2 – магнитное поле.

Для построения моделей на данной форме нужно нажать кнопку «Вычислить». 

<img width="653" height="357" alt="image" src="https://github.com/user-attachments/assets/f94e2ce6-4268-4cc4-a92c-c5721679f0ab" />

При нажатии на кнопку будут рассчитаны текстуры для поверхностей стенок волновода. После создания всех текстур появятся сами модели волновода:

<img width="702" height="293" alt="image" src="https://github.com/user-attachments/assets/1013b97a-0761-4026-ba80-d5d5e674db91" />

Каждую из этих моделей можно поворачивать вокруг своей оси зажатием левой кнопки мыши. Так же можно запустить анимацию по нажатию на следующую кнопку:

<img width="570" height="287" alt="image" src="https://github.com/user-attachments/assets/83138150-c3d9-4d2b-b4cf-2e63f3c3ae38" />

Остановить анимацию можно при повторном нажатии на эту же кнопку. Можно выбрать отдельно любой кадр на ползунке:

<img width="811" height="75" alt="image" src="https://github.com/user-attachments/assets/00df873e-4933-48c6-ac36-5211886a60c9" />

Номер кадра указан справа. 

<img width="770" height="349" alt="image" src="https://github.com/user-attachments/assets/e8f61a4a-f24a-432e-b00a-88ffc01fdd15" />

Если у вас слабый процессор, то лучше не двигать модели во время анимации, это может привести к тому, что программа зависнет. Размеры модели были подобраны таким образом чтобы процессор успевал от рендерить каждый кадр (350x350 точек). Если увеличить растр до 500x500 то это уже существенно замедляет работу алгоритма растеризации. В настройках можно уменьшить размер модели, но при этом снизится качество, но появится прирост в производительности. При изменении размера растра перестраивать модель не нужно. Настройки будут применены сразу после нажатия на кнопку «Применить». Это справедливо не для всех настроек.

<img width="546" height="435" alt="image" src="https://github.com/user-attachments/assets/3b098577-4fa2-4032-821f-3b2b8eaf9a03" />

Пример вида моделей с размером растра 200x200:

<img width="688" height="323" alt="image" src="https://github.com/user-attachments/assets/f7406290-d88a-47b2-b5af-361445062234" />

Так же можно выбрать количество кадров, которые будут сгенерированы:

<img width="446" height="415" alt="image" src="https://github.com/user-attachments/assets/91eed018-70d6-489a-a372-dd92c3621132" />

Чем больше число кадров, тем соответственно больше времени займёт процесс создания моделей. И так же увеличится потребление оперативной памяти. При выборе данного параметра модель нужно перестроить. Например, при данный настройках как на картинке выше пиковое потребление оперативной памяти составляет 384 мб:

<img width="672" height="264" alt="image" src="https://github.com/user-attachments/assets/6a0a2d7c-4226-4289-8742-be6e76285311" />

Загруженность процессора:

<img width="718" height="273" alt="image" src="https://github.com/user-attachments/assets/15eecda2-7ec7-4146-ad12-96a15049db56" />

Параметр «размер текстуры по оси X» на производительность не влияет. Он влияет на чёткость полученных текстур. Нет смысла ставить данный параметр ниже параметра «Размер текстуры». При выборе данного параметра модель нужно перестроить.

<img width="423" height="381" alt="image" src="https://github.com/user-attachments/assets/b95e7652-096c-45c1-984b-73754da652fa" />

Параметр «Размер текстуры» уменьшает время создания модели волновода. Параметр «скорость анимации» менять не стоит. При выборе данного параметра модель нужно перестроить.
Параметр заливка текстуры позволяет выбрать способ закрашивания карты линии уровня. При выборе данного параметра модель нужно перестроить.

Заливка gradient

<img width="974" height="372" alt="image" src="https://github.com/user-attachments/assets/f1666a39-1b82-476e-be10-ac8e36f68f8b" />

Заливка scale

<img width="974" height="374" alt="image" src="https://github.com/user-attachments/assets/fa82dacc-7385-43e7-9fe1-09bf06958875" />

Можно выбрать какой тип волны следует отображать. Либо волна типа H либо волна типа E. Для смены типа волны ничего пересчитывать не нужно. Если волна типа E может существовать при заданных параметрах, то появится нажать на кнопку E и выбрать данный тип волны.

<img width="974" height="453" alt="image" src="https://github.com/user-attachments/assets/4ab03285-c0db-48e9-91dc-d80188afdf19" />

<img width="974" height="430" alt="image" src="https://github.com/user-attachments/assets/5998dbb4-1af3-41b9-ad96-2e2817c28c23" />

На вкладке «доступные моды» можно увидеть какие моды доступны при указании определённой частоты волны. Ползунком выбирается частота волны при этом график автоматически перестраивается. Так же значения частоты можно менять колёсиком мыши: прокрутка вверх увеличивает частоту, прокрутка вниз уменьшает частоту.

<img width="843" height="441" alt="image" src="https://github.com/user-attachments/assets/3e3490fe-5518-40d4-89a7-651dc4b46f2d" />

Нижним порогом является критическая частота, так волна с частотой ниже критической просто не распространяется.
К примеру, на рисунке ниже видно, что при частоте 92 ГГц можно выбрать любые моды, которые соответствуют красным точкам. Для определения моды нужно определить координату точки. 

<img width="974" height="511" alt="image" src="https://github.com/user-attachments/assets/f21d779a-e3dd-4f23-9559-fad775844549" />

Значит не меняя параметров волновода (ширина, высота ) при частоте 92 ГГЦ можно выбрать моды n = 3 и m = 2. Проверим:

<img width="689" height="286" alt="image" src="https://github.com/user-attachments/assets/476c72cc-7053-43cb-ba32-46a391666956" />
